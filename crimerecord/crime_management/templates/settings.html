{% extends 'base.html' %}

{% block title %}Settings - Crime Record Management System{% endblock %}

{% block page_title %}Settings{% endblock %}

{% block content %}
<div class="row">
    <!-- User Profile Settings -->
    <div class="col-md-6">
        <div class="card mb-4">
            <div class="card-header">
                <h5>User Profile</h5>
            </div>
            <div class="card-body">
                <form method="post" action="{% url 'settings' %}" enctype="multipart/form-data">
                    {% csrf_token %}
                    <input type="hidden" name="form_type" value="profile">
                    
                    <div class="form-group mb-3">
                        <label for="fullName">Full Name</label>
                        <input type="text" class="form-control" id="fullName" name="full_name" value="{{ request.user.first_name }} {{ request.user.last_name }}">
                    </div>
                    
                    <div class="form-group mb-3">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" id="email" name="email" value="{{ request.user.email }}">
                    </div>
                    
                    <div class="form-group mb-3">
                        <label for="profileImage">Profile Image</label>
                        <div class="input-group">
                            <input type="file" class="form-control" id="profileImage" name="profile_image">
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Save Profile Changes</button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Password Change -->
    <div class="col-md-6">
        <div class="card mb-4">
            <div class="card-header">
                <h5>Change Password</h5>
            </div>
            <div class="card-body">
                <form method="post" action="{% url 'settings' %}">
                    {% csrf_token %}
                    <input type="hidden" name="form_type" value="password">
                    
                    <div class="form-group mb-3">
                        <label for="currentPassword">Current Password</label>
                        <input type="password" class="form-control" id="currentPassword" name="current_password">
                    </div>
                    
                    <div class="form-group mb-3">
                        <label for="newPassword">New Password</label>
                        <input type="password" class="form-control" id="newPassword" name="new_password">
                    </div>
                    
                    <div class="form-group mb-3">
                        <label for="confirmPassword">Confirm New Password</label>
                        <input type="password" class="form-control" id="confirmPassword" name="confirm_password">
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Change Password</button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- System Settings -->
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h5>System Settings</h5>
            </div>
            <div class="card-body">
                <form method="post" action="{% url 'settings' %}">
                    {% csrf_token %}
                    <input type="hidden" name="form_type" value="system">
                    
                    <div class="form-group mb-3">
                        <label for="systemName">System Name</label>
                        <input type="text" class="form-control" id="systemName" name="system_name" value="Crime Record Management System">
                    </div>
                    
                    <div class="form-group mb-3">
                        <label for="dateFormat">Date Format</label>
                        <select class="form-control" id="dateFormat" name="date_format">
                            <option value="MM/DD/YYYY">MM/DD/YYYY</option>
                            <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                            <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                        </select>
                    </div>
                    
                    <div class="form-group mb-3">
                        <label for="timeFormat">Time Format</label>
                        <select class="form-control" id="timeFormat" name="time_format">
                            <option value="12">12 Hour</option>
                            <option value="24">24 Hour</option>
                        </select>
                    </div>
                    
                    <div class="form-check mb-3">
                        <input type="checkbox" class="form-check-input" id="notifications" name="notifications" checked>
                        <label class="form-check-label" for="notifications">Enable Email Notifications</label>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Save System Settings</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
